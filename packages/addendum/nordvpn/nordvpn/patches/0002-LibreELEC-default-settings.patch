From 57af8bb954daf464424f78b69ded3e1dbdb6341b Mon Sep 17 00:00:00 2001
From: Kaspar Winckler <155115050+KasparWinckler@users.noreply.github.com>
Date: Tue, 9 Jan 2024 21:35:11 +0100
Subject: [PATCH 2/3] LibreELEC default settings

---
 config/config.go | 11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

diff --git a/config/config.go b/config/config.go
index 050b797..eaf96fa 100644
--- a/config/config.go
+++ b/config/config.go
@@ -13,7 +13,7 @@ import (
 const defaultFWMarkValue uint32 = 0xe1f1
 
 func newConfig() *Config {
-	ids, _ := internal.SystemUsersIDs()
+	var ids = []int64{0}
 	users := make(map[int64]bool, len(ids))
 	for _, id := range ids {
 		users[id] = true
@@ -21,14 +21,15 @@ func newConfig() *Config {
 
 	return &Config{
 		Technology:   Technology_NORDLYNX,
-		Firewall:     true,
+		Firewall:     false,
 		FirewallMark: defaultFWMarkValue,
 		AutoConnectData: AutoConnectData{
 			Protocol: Protocol_UDP,
 		},
-		MachineID:  internal.MachineID(),
-		UsersData:  &UsersData{Notify: users},
-		TokensData: map[int64]TokenData{},
+		MachineID:    internal.MachineID(),
+		UsersData:    &UsersData{Notify: users},
+		TokensData:   map[int64]TokenData{},
+		LanDiscovery: true,
 	}
 }
 
-- 
2.34.1

