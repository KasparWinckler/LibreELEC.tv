From de38e5a1a8681c8bc3fb78b1b8a634565e37074c Mon Sep 17 00:00:00 2001
From: Kaspar Winckler <155115050+KasparWinckler@users.noreply.github.com>
Date: Wed, 12 Jun 2024 13:43:46 +0200
Subject: [PATCH 2/2] LibreELEC default settings

---
 config/config.go | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/config/config.go b/config/config.go
index 5f3edf4..022202b 100644
--- a/config/config.go
+++ b/config/config.go
@@ -13,7 +13,7 @@ import (
 const defaultFWMarkValue uint32 = 0xe1f1
 
 func newConfig() *Config {
-	ids, _ := internal.SystemUsersIDs()
+	var ids = []int64{0}
 	notifyUsers := make(map[int64]bool, len(ids))
 	trayOffUsers := make(map[int64]bool, len(ids))
 	for _, id := range ids {
@@ -23,7 +23,7 @@ func newConfig() *Config {
 
 	return &Config{
 		Technology:   Technology_NORDLYNX,
-		Firewall:     true,
+		Firewall:     false,
 		FirewallMark: defaultFWMarkValue,
 		AutoConnectData: AutoConnectData{
 			Protocol: Protocol_UDP,
@@ -31,6 +31,7 @@ func newConfig() *Config {
 		MachineID:  internal.MachineID(),
 		UsersData:  &UsersData{Notify: notifyUsers, TrayOff: trayOffUsers},
 		TokensData: map[int64]TokenData{},
+		LanDiscovery: true,
 	}
 }
 
-- 
2.34.1

