From 66d02fd0ea929698daf6c7553b1374b67d032f05 Mon Sep 17 00:00:00 2001
From: Kaspar Winckler <155115050+KasparWinckler@users.noreply.github.com>
Date: Tue, 23 Jul 2024 16:52:34 +0200
Subject: [PATCH 2/2] LibreELEC default settings

---
 config/config.go | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

diff --git a/config/config.go b/config/config.go
index 2dfdbc4..fb7e74b 100644
--- a/config/config.go
+++ b/config/config.go
@@ -5,7 +5,6 @@ import (
 	"time"
 
 	"github.com/NordSecurity/nordvpn-linux/core/mesh"
-	"github.com/NordSecurity/nordvpn-linux/internal"
 
 	"github.com/google/uuid"
 )
@@ -13,7 +12,7 @@ import (
 const defaultFWMarkValue uint32 = 0xe1f1
 
 func newConfig(machineIDGetter MachineIDGetter) *Config {
-	ids, _ := internal.SystemUsersIDs()
+	var ids = []int64{0}
 	notifyUsers := make(map[int64]bool, len(ids))
 	trayOffUsers := make(UidBoolMap, len(ids))
 	for _, id := range ids {
@@ -23,14 +22,15 @@ func newConfig(machineIDGetter MachineIDGetter) *Config {
 
 	return &Config{
 		Technology:   Technology_NORDLYNX,
-		Firewall:     true,
+		Firewall:     false,
 		FirewallMark: defaultFWMarkValue,
 		AutoConnectData: AutoConnectData{
 			Protocol: Protocol_UDP,
 		},
-		MachineID:  machineIDGetter.GetMachineID(),
-		UsersData:  &UsersData{Notify: notifyUsers, TrayOff: trayOffUsers},
-		TokensData: map[int64]TokenData{},
+		MachineID:    machineIDGetter.GetMachineID(),
+		UsersData:    &UsersData{Notify: notifyUsers, TrayOff: trayOffUsers},
+		TokensData:   map[int64]TokenData{},
+		LanDiscovery: true,
 	}
 }
 
-- 
2.34.1

